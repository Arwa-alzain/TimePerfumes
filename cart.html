<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Cart</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="container py-5 text-center" style="direction: rtl;">
      

  <h1 class="mb-4">ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h1>
  <div id="cart-items" class="row justify-content-center"></div>
  <h3 id="total-price" class="mt-4"></h3>

  
  <script>
    let cartItems = JSON.parse(localStorage.getItem('cart')) || [];
    const cartContainer = document.getElementById('cart-items');
    const totalPriceElement = document.getElementById('total-price');
  
    function renderCart() {
      cartContainer.innerHTML = "";
      let total = 0;
  
      if (cartItems.length === 0) {
        cartContainer.innerHTML = "<p>ğŸš« Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>";
        totalPriceElement.innerHTML = "";
        return;
      }
  
      cartItems.forEach((item, index) => {
        const quantity = item.quantity || 1;
        const itemTotal = parseFloat(item.price) * quantity;
        total += itemTotal;
  
        const itemDiv = document.createElement('div');
        itemDiv.className = 'd-flex align-items-center justify-content-between border p-3 mb-2 rounded';
  
        itemDiv.innerHTML = `
          <div class="d-flex align-items-center text-start" style="gap: 20px;">
            <img src="${item.image}" alt="${item.name}" style="width: 100px; height: 100px; object-fit: cover; border-radius: 10px;">
            <div>
              <h5>${item.name}</h5>
              <p>Ø§Ù„Ø³Ø¹Ø±: ${item.price}
                <img src="images/Saudi_Riyal_Symbol-1-3.png" alt="Ø±ÙŠØ§Ù„" 
                  style="width: 17px; height: auto; vertical-align: middle; margin-right: 5px;">
              </p>
              <div class="d-flex align-items-center">
                <button class="btn btn-sm btn-outline-secondary me-2" onclick="decreaseQuantity(${index})">-</button>
                <span class='mx-2'>${quantity}</span>
                <button class="btn btn-sm btn-outline-secondary ms-2" onclick="increaseQuantity(${index})">+</button>
              </div>
            </div>
          </div>
          <button class="btn btn-danger btn-sm" onclick="removeItem(${index})">Ø­Ø°Ù</button>
        `;
  
        cartContainer.appendChild(itemDiv);
      });
  
      totalPriceElement.innerHTML = `
      Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total.toFixed(2)}
      <img src="images/Saudi_Riyal_Symbol-1-3.png" alt="Ø±ÙŠØ§Ù„" 
             style="width: 25px; height: auto; vertical-align: middle; margin-right: 5px;">
        
        
      `;
    }

  
    // ğŸ” Ø¯ÙˆØ§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©
    function increaseQuantity(index) {
      cartItems[index].quantity = (cartItems[index].quantity || 1) + 1;
      saveCart();
      renderCart();
    }
  
    function decreaseQuantity(index) {
      if ((cartItems[index].quantity || 1) > 1) {
        cartItems[index].quantity -= 1;
        saveCart();
        renderCart();
      }
    }
  
    function removeItem(index) {
      cartItems.splice(index, 1);
      saveCart();
      renderCart();
    }
    
    
  
    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cartItems));
    }
  
    // â¬ ØªØ­Ù…ÙŠÙ„ Ø£ÙˆÙ„ÙŠ
    renderCart();
// Ø¨Ø¹Ø¯ Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ù€ localStorage

  </script>  
  <div class="text-center mt-4">
    <button onclick="window.location.href='index.html'" class="btn custom-back-button">
      <i class="fas fa-arrow-right ms-2"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </button>
  </div>
  <style>
    .custom-back-button {
      background-color: #5c3d00;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }
    .custom-back-button:hover {
      background-color: #5c3d00;
      color: white;
    }
    </style>
</body>
</html>